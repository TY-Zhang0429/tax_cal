<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>月收入税金计算器</title>
<style>
  body{font-family:-apple-system,Arial;margin:0;background:#f7f7f7;padding:16px;}
  .card{background:#fff;border-radius:12px;padding:20px;max-width:640px;margin:0 auto;box-shadow:0 1px 3px rgba(0,0,0,.07);}
  h1{font-size:22px;margin:0 0 10px;}
  .sub{font-size:14px;color:#666;margin-bottom:15px;}
  label{font-size:16px;display:block;margin-top:10px;}
  input{width:100%;padding:14px;font-size:18px;margin-top:6px;border:1px solid #ddd;border-radius:10px;}
  button{width:100%;padding:14px;margin-top:10px;border:0;border-radius:10px;font-size:18px;color:#fff;background:#07c160;}
  .result{margin-top:16px;background:#fafafa;border:1px dashed #ddd;padding:12px;border-radius:8px;}
  .row{display:flex;justify-content:space-between;margin:6px 0;font-size:16px;}
  .muted{color:#666;font-size:13px;}
</style>
</head>
<body>

<div class="card">
  <h1>月收入税金计算器</h1>
  <div class="sub">输入每月收入（比如工资/月收入），系统自动计算全年个税与税后收入。</div>

  <label>每月收入（元）</label>
  <input type="number" id="monthly" placeholder="如 15000" inputmode="decimal" />

  <button onclick="calc()">计算税金</button>

  <div id="resultBox" class="result" style="display:none">
    <div class="row"><span>年收入</span><b id="annual"></b></div>
    <div class="row"><span>应纳税所得额（年）</span><b id="taxable"></b></div>
    <div class="row"><span>年个税</span><b id="tax"></b></div>
    <div class="row"><span>月均税后收入</span><b id="net_month"></b></div>
    <div class="row"><span>实际税率</span><b id="rate"></b></div>
    <div class="muted">注：公式为 年应纳税所得 = 年收入×80% − 60000</div>
  </div>
</div>

<script>
const BRACKETS = [
  { up:36000, rate:0.03, quick:0 },
  { up:144000, rate:0.10, quick:2520 },
  { up:300000, rate:0.20, quick:16920 },
  { up:420000, rate:0.25, quick:31920 },
  { up:660000, rate:0.30, quick:52920 },
  { up:960000, rate:0.35, quick:85920 },
  { up:Infinity, rate:0.45, quick:181920 }
];

function fmt(n){return '¥' + Number(n).toLocaleString('zh-CN',{minimumFractionDigits:2});}
function pct(n){return Number(n).toFixed(2)+'%';}

function calc(){
  const m = Number(document.getElementById("monthly").value);
  if(!m || m<=0) return;

  const annual = m*12;
  let taxable = annual*0.8 - 60000;
  if(taxable<0) taxable = 0;

  let rate=0, quick=0;
  for(const b of BRACKETS){
    if(taxable <= b.up){rate=b.rate;quick=b.quick;break;}
  }
  const tax = Math.max(taxable*rate - quick, 0);
  const netMonth = (annual - tax)/12;
  const ratePct = (tax/annual*100).toFixed(2);

  document.getElementById("annual").textContent = fmt(annual);
  document.getElementById("taxable").textContent = fmt(taxable);
  document.getElementById("tax").textContent = fmt(tax);
  document.getElementById("net_month").textContent = fmt(netMonth);
  document.getElementById("rate").textContent = pct(ratePct);

  document.getElementById("resultBox").style.display = "block";
}
</script>

</body>
</html>
